import{i as t}from"./index-C2aYM6LG.js";import{R as a}from"./ReservasService-CEgvyNxi.js";const n=t("reservas_store",{state:()=>({reservas:[],loading:!1,error:null}),getters:{obtenerReservas:r=>r.reservas,estaLoading:r=>r.loading,obtenerError:r=>r.error},actions:{async cargarReservas(){this.loading=!0,this.error=null;try{const r=await a.instance.obtenerReservas();return this.reservas=Array.isArray(r)?r:r.recordset??[],Promise.resolve(this.reservas)}catch(r){return this.error=r,Promise.reject(r)}finally{this.loading=!1}},async crearReserva(r){this.loading=!0,this.error=null;try{const e=await a.instance.crearReserva(r);return await this.cargarReservas(),Promise.resolve(e)}catch(e){return this.error=e,Promise.reject(e)}finally{this.loading=!1}},async actualizarEstado(r,e){this.loading=!0,this.error=null;try{const s=await a.instance.actualizarEstadoReserva(r,e);return await this.cargarReservas(),Promise.resolve(s)}catch(s){return this.error=s,Promise.reject(s)}finally{this.loading=!1}},async eliminarReserva(r){this.loading=!0,this.error=null;try{const e=await a.instance.eliminarReserva(r);return await this.cargarReservas(),Promise.resolve(e)}catch(e){return this.error=e,Promise.reject(e)}finally{this.loading=!1}}},persist:!0});export{n as u};
