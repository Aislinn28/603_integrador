var o=Object.defineProperty;var n=(e,r,t)=>r in e?o(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var a=(e,r,t)=>n(e,typeof r!="symbol"?r+"":r,t);import{i as l}from"./index-C2aYM6LG.js";import{H as u}from"./http-CD2YnwdB.js";const s=class s extends u{constructor(){if(super(),s._instance)return s._instance;s._instance=this}static get instance(){return this._instance??(this._instance=new this)}obtenerVehiculos(){return super.get("vehiculos",null,!0)}registrarVehiculo(r){return super.post("vehiculos/registro",r,!0)}actualizarVehiculo(r,t){return super.put(`vehiculos/${r}`,t,!0)}eliminarVehiculo(r){return super.delete("vehiculos",r,!0)}};a(s,"_instance");let i=s;const d=l("vehiculos_store",{state:()=>({vehiculos:[],loading:!1,error:null}),getters:{obtenerVehiculos:e=>e.vehiculos,estaLoading:e=>e.loading,obtenerError:e=>e.error},actions:{async cargarVehiculos(){this.loading=!0,this.error=null;try{const e=await i.instance.obtenerVehiculos();return this.vehiculos=e,Promise.resolve(e)}catch(e){return this.error=e,Promise.reject(e)}finally{this.loading=!1}},async registrarVehiculo(e){this.loading=!0,this.error=null;try{const r=await i.instance.registrarVehiculo(e);return await this.cargarVehiculos(),Promise.resolve(r)}catch(r){return this.error=r,Promise.reject(r)}finally{this.loading=!1}},async actualizarVehiculo(e,r){this.loading=!0,this.error=null;try{const t=await i.instance.actualizarVehiculo(e,r);return await this.cargarVehiculos(),Promise.resolve(t)}catch(t){return this.error=t,Promise.reject(t)}finally{this.loading=!1}},async eliminarVehiculo(e){this.loading=!0,this.error=null;try{const r=await i.instance.eliminarVehiculo(e);return await this.cargarVehiculos(),Promise.resolve(r)}catch(r){return this.error=r,Promise.reject(r)}finally{this.loading=!1}}},persist:!0});export{d as u};
